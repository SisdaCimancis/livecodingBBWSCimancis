<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>todo list</h1>

    <form name="todoform">
        <table>
        <tbody>
            <tr>
                <td><label for="todo"></label></td>
                <td><input type="text" name="todo"></td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" value="add"></td>
            </tr>
        </tbody>
        </table>
    </form>

    <table>
    <tbody id="todolist">
        <tr>
            <td><input type="button" value="done"></td>
            <td></td>
        </tr>

    </tbody>
    </table>
    

    <script>

    const todolist =[];
    
removeTodoList = function(index) {
        todolist.splice(index, 1);
        renderTodolist();
    };

    function clearTodolistTable() {
        const todolistTable = document.getElementById("todolist");
        while (todolistTable.firstChild) {
            todolistTable.removeChild(todolistTable.firstChild);
        }
    }

        function addToTable(index,todo) {
            const addtable = document.getElementById("todolist");
            const row = document.createElement("tr");
            addtable.append(row);

            const todoItem = document.createElement("td");
            todoItem.textContent = todo;

            const todoButtonItem = document.createElement("td");
            const todoButtonDone = document.createElement("input");
            todoButtonDone.type = "button";
            todoButtonDone.value = "Done";
            todoButtonDone.onclick = function () {
            removeTodoList(index);
            };
            todoButtonItem.append(todoButtonDone);

            row.append(todoButtonItem, todoItem);
        }

    function renderTodolist() {
        clearTodolistTable();
        for (let i = 0; i < todolist.length; i++) {
            addToTable(i, todolist[i]);
        }
    }

       
        document.forms["todoform"].onsubmit = function(event) {
            event.preventDefault();
            const todoInput = document.forms["todoform"]["todo"].value;
            todolist.push(todoInput);
        console.log(todolist);
        renderTodolist();
        };

    </script>
</body>
</html>